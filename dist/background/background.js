chrome.runtime.onInstalled.addListener(e=>{if(e.reason==="install")c();else if(e.reason==="update"){const o=chrome.runtime.getManifest().version;console.log(`更新到版本 ${o}`)}});function c(){const t={bookmarks:[{title:"百度",url:"https://www.baidu.com",icon:"https://www.baidu.com/favicon.ico"},{title:"微博",url:"https://weibo.com",icon:"https://weibo.com/favicon.ico"},{title:"知乎",url:"https://www.zhihu.com",icon:"https://static.zhihu.com/heifetz/favicon.ico"},{title:"Bilibili",url:"https://www.bilibili.com",icon:"https://www.bilibili.com/favicon.ico"}],searchEngine:"baidu",theme:"light"};chrome.storage.sync.set(t,()=>{console.log("默认设置已初始化")})}chrome.runtime.onMessage.addListener((e,o,i)=>e.action==="getSearchEngine"?(chrome.storage.sync.get("searchEngine",t=>{i({success:!0,data:{searchEngine:t.searchEngine||"baidu"}})}),!0):e.action==="getTheme"?(chrome.storage.sync.get("theme",t=>{i({success:!0,data:{theme:t.theme||"light"}})}),!0):(i({success:!1,error:`未知的操作: ${e.action}`}),!1));
//# sourceMappingURL=background.js.map
