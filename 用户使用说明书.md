# MyTab 浏览器扩展 - 用户使用说明书

## 📖 目录

1. [项目介绍](#项目介绍)
2. [功能特性](#功能特性)
3. [系统要求](#系统要求)
4. [安装指南](#安装指南)
5. [使用方法](#使用方法)
6. [功能详解](#功能详解)
7. [高级功能](#高级功能)
8. [开发与测试](#开发与测试)
9. [故障排除](#故障排除)
10. [常见问题](#常见问题)
11. [技术支持](#技术支持)

---

## 🎯 项目介绍

**MyTab** 是一个现代化的浏览器扩展程序，专为提升用户的新标签页体验而设计。使用 TypeScript 开发，支持 Chrome 和 Edge 浏览器，为用户提供了一个功能丰富、高度可定制的新标签页替换方案。

### 🎨 设计理念

MyTab 秉承"简洁而强大"的设计理念，致力于：
- **提升效率**：快速访问常用网站和工具
- **个性化定制**：多主题、多搜索引擎支持
- **数据同步**：支持云端同步和本地备份
- **现代体验**：响应式设计，适配不同屏幕尺寸

### 🏆 核心优势

1. **完全开源**：基于 MIT 许可证，代码透明可信
2. **类型安全**：使用 TypeScript 开发，减少运行时错误
3. **高性能**：轻量级设计，快速启动和响应
4. **可扩展**：模块化架构，便于功能扩展
5. **多平台**：支持 Chrome 和 Edge 浏览器

---

## ✨ 功能特性

### 🔖 书签管理系统
- **智能分类**：支持多级分类和标签系统
- **工作区管理**：创建不同的书签工作区，适合工作和生活分离
- **快速添加**：一键添加当前网页到书签
- **批量操作**：支持批量导入、导出和删除
- **智能排序**：按访问频率、添加时间等多种方式排序

### 🔍 搜索引擎集成
- **多引擎支持**：百度、Google、Bing 等主流搜索引擎
- **快速切换**：一键切换不同搜索引擎
- **自定义搜索**：支持添加自定义搜索引擎
- **搜索建议**：实时搜索建议和历史记录
- **键盘快捷键**：支持快捷键操作

### 🎨 主题系统
- **浅色主题**：简洁明亮的日间模式
- **深色主题**：护眼舒适的夜间模式
- **自动切换**：根据系统时间自动切换主题
- **自定义颜色**：支持自定义主题色彩
- **动态背景**：支持动漫背景图片切换

### ⏰ 时间与天气
- **实时时钟**：显示当前时间和日期
- **世界时钟**：支持多时区显示
- **倒计时器**：支持重要事件倒计时
- **天气信息**：显示当前位置天气情况
- **农历显示**：支持中国传统农历

### 🔐 Microsoft 集成
- **单点登录**：Microsoft 账户一键登录
- **用户信息**：显示用户头像、姓名和邮箱
- **OneDrive 集成**：快速访问云端文件
- **Outlook 快捷**：快速访问邮箱和日历
- **Teams 集成**：快速加入会议和聊天

### 🔄 数据同步
- **GitHub Gist 同步**：将配置同步到 GitHub Gist
- **本地备份**：支持本地配置文件导出
- **自动备份**：定期自动备份用户数据
- **跨设备同步**：在多个设备间同步配置
- **版本管理**：配置变更历史记录

---

## 💻 系统要求

### 支持的浏览器
- **Chrome 浏览器** 88+ 版本
- **Microsoft Edge** 88+ 版本
- **其他 Chromium 内核浏览器**（如 Brave、Opera）

### 操作系统要求
- **Windows** 10/11
- **macOS** 10.14+
- **Linux** Ubuntu 18.04+

### 硬件要求
- **内存**：至少 4GB RAM
- **存储**：至少 50MB 可用空间
- **网络**：用于同步功能的互联网连接

---

## 🚀 安装指南

### 方法一：从源码安装（推荐测试者使用）

#### 步骤 1：获取源码
```bash
# 克隆项目
git clone https://github.com/yourusername/mytab-extension.git
cd mytab-extension

# 或者下载源码包并解压
```

#### 步骤 2：安装依赖
```bash
# 安装 Node.js 依赖
npm install

# 如果使用 yarn
yarn install
```

#### 步骤 3：构建项目
```bash
# 开发构建
npm run build

# 生产构建
npm run build:prod

# 打包发布版本
npm run public
```

#### 步骤 4：安装到浏览器

**Chrome 浏览器：**
1. 打开 Chrome 浏览器
2. 在地址栏输入 `chrome://extensions/`
3. 开启右上角的"开发者模式"
4. 点击"加载已解压的扩展程序"
5. 选择项目的 `dist` 目录
6. 扩展安装完成！

**Edge 浏览器：**
1. 打开 Edge 浏览器
2. 在地址栏输入 `edge://extensions/`
3. 开启左侧的"开发人员模式"
4. 点击"加载解压缩的扩展"
5. 选择项目的 `dist` 目录
6. 扩展安装完成！

### 方法二：安装打包版本

如果你收到了 `.zip` 或 `.crx` 安装包：

1. **ZIP 包安装**：
   - 解压 ZIP 文件到本地目录
   - 按照"方法一"的步骤4进行安装

2. **CRX 包安装**：
   - 直接拖拽 `.crx` 文件到浏览器扩展页面
   - 确认安装提示

---

## 📱 使用方法

### 首次使用设置

#### 1. 基础配置
安装完成后，打开新标签页，你将看到 MyTab 的欢迎界面：

1. **选择主题**：在右上角选择你喜欢的主题
2. **设置搜索引擎**：选择默认搜索引擎
3. **添加常用网站**：点击"+"按钮添加你的常用网站
4. **创建工作区**：根据需要创建不同的书签分类

#### 2. Microsoft 账户登录（可选）
1. 点击右上角的"登录"按钮
2. 在弹出窗口中输入 Microsoft 账户信息
3. 授权应用访问基本信息
4. 登录成功后可看到用户头像和信息

#### 3. 同步设置（可选）
1. 进入设置页面
2. 配置 GitHub Gist 同步
3. 输入 GitHub Token 和 Gist ID
4. 启用自动同步功能

### 日常使用操作

#### 🔍 搜索功能
- **快速搜索**：在搜索框中输入关键词，按回车搜索
- **切换引擎**：点击搜索框旁的引擎图标切换搜索引擎
- **快捷键**：
  - `Ctrl + K`：聚焦到搜索框
  - `Tab`：在搜索建议间切换
  - `Escape`：清空搜索框

#### 📚 书签管理
- **添加书签**：
  1. 点击"+"按钮
  2. 输入网站名称和 URL
  3. 选择工作区分类
  4. 点击"保存"

- **编辑书签**：
  1. 右键点击书签
  2. 选择"编辑"
  3. 修改信息后保存

- **删除书签**：
  1. 右键点击书签
  2. 选择"删除"
  3. 确认删除操作

#### 🎨 主题切换
- **手动切换**：点击右上角主题切换按钮
- **自动模式**：在设置中启用"跟随系统"
- **自定义主题**：在设置中选择"自定义"并配置颜色

---

## 🔧 功能详解

### 工作区管理系统

工作区是 MyTab 的核心功能之一，允许用户将书签按照不同场景进行分类管理。

#### 创建工作区
1. 点击左侧边栏的"+"按钮
2. 输入工作区名称（如"工作"、"学习"、"娱乐"）
3. 选择工作区图标
4. 设置工作区颜色主题
5. 点击"创建"完成

#### 管理工作区
- **重命名**：双击工作区名称进行编辑
- **删除**：右键菜单选择删除（会提示确认）
- **排序**：拖拽工作区标签进行重新排序
- **导出**：将工作区书签导出为 JSON 文件
- **导入**：从文件导入书签到指定工作区

#### 工作区切换
- **鼠标操作**：点击左侧工作区标签
- **键盘快捷键**：
  - `Ctrl + 1-9`：切换到对应编号的工作区
  - `Ctrl + Tab`：切换到下一个工作区
  - `Ctrl + Shift + Tab`：切换到上一个工作区

### 搜索引擎管理

MyTab 支持多种搜索引擎，用户可以根据需求进行配置。

#### 内置搜索引擎
- **百度**：https://www.baidu.com/s?wd={query}
- **Google**：https://www.google.com/search?q={query}
- **Bing**：https://www.bing.com/search?q={query}
- **搜狗**：https://www.sogou.com/web?query={query}
- **360搜索**：https://www.so.com/s?q={query}

#### 添加自定义搜索引擎
1. 进入设置页面的"搜索引擎"选项卡
2. 点击"添加自定义搜索引擎"
3. 填写以下信息：
   - 名称：搜索引擎显示名称
   - 关键字：快速调用的关键字
   - URL 模板：搜索 URL，用 `{query}` 标记搜索词位置
4. 点击"保存"

#### 搜索引擎快捷键
用户可以为每个搜索引擎设置快捷键：
- 在搜索框中输入关键字 + Tab 键
- 例如：`g` + Tab 激活 Google 搜索

### 主题系统详解

#### 预设主题
1. **浅色主题（Light）**
   - 背景色：#FFFFFF
   - 文字色：#333333
   - 主色调：#0078D4
   - 适用场景：日间使用，光线充足环境

2. **深色主题（Dark）**
   - 背景色：#1A1A1A
   - 文字色：#FFFFFF
   - 主色调：#0078D4
   - 适用场景：夜间使用，护眼模式

3. **自动主题（Auto）**
   - 根据系统时间自动切换
   - 6:00-18:00 使用浅色主题
   - 18:00-6:00 使用深色主题

#### 自定义主题
用户可以创建个人专属主题：
1. 在设置中选择"自定义主题"
2. 配置以下颜色参数：
   - 主背景色
   - 卡片背景色
   - 主要文字色
   - 次要文字色
   - 主题色
   - 边框色
3. 实时预览效果
4. 保存自定义主题

### Microsoft 集成功能

#### 账户登录流程
1. **初始化登录**：
   - 点击右上角"登录"按钮
   - 弹出 Microsoft 授权窗口
   - 输入 Microsoft 账户凭据
   - 授权应用访问权限

2. **权限说明**：
   - `User.Read`：读取用户基本信息
   - `profile`：访问用户配置文件
   - `openid`：OpenID Connect 登录
   - `email`：访问用户邮箱地址

3. **登录状态管理**：
   - 登录状态持久化存储
   - 访问令牌自动刷新
   - 错误处理和重试机制

#### 用户信息显示
登录成功后，右上角会显示：
- 用户头像（来自 Microsoft Graph API）
- 用户姓名
- 邮箱地址
- 登录状态指示器

#### OneDrive 集成
- **快速访问**：一键打开 OneDrive 网页版
- **最近文件**：显示最近访问的文件列表
- **文件上传**：支持拖拽上传文件到 OneDrive
- **共享链接**：快速生成文件共享链接

---

## 🔬 高级功能

### 数据同步与备份

#### GitHub Gist 同步
MyTab 支持将用户配置同步到 GitHub Gist，实现跨设备数据同步。

**配置步骤**：
1. 在 GitHub 创建 Personal Access Token
2. 在 MyTab 设置中输入 Token
3. 创建或选择现有的 Gist
4. 启用自动同步功能

**同步内容**：
- 书签数据
- 工作区配置
- 主题设置
- 搜索引擎配置
- 用户偏好设置

**同步策略**：
- 自动同步：每 30 分钟检查一次变更
- 手动同步：点击同步按钮立即同步
- 冲突解决：优先使用最新时间戳的数据

#### 本地备份
除了云端同步，MyTab 还支持本地备份：

**自动备份**：
- 每日自动备份配置文件
- 保留最近 7 天的备份
- 备份文件存储在浏览器本地存储

**手动备份**：
1. 进入设置 → 数据管理
2. 点击"导出配置"
3. 选择导出内容和格式
4. 下载备份文件

**恢复数据**：
1. 进入设置 → 数据管理
2. 点击"导入配置"
3. 选择备份文件
4. 确认恢复操作

### 快捷键系统

MyTab 支持丰富的快捷键操作，提升使用效率：

#### 全局快捷键
- `Ctrl + K`：聚焦搜索框
- `Ctrl + ,`：打开设置页面
- `Ctrl + Shift + A`：添加书签
- `Ctrl + Shift + S`：开始搜索
- `F5`：刷新页面数据

#### 导航快捷键
- `Ctrl + 1-9`：切换工作区
- `Tab`：在元素间切换焦点
- `Enter`：激活当前焦点元素
- `Escape`：取消当前操作

#### 书签操作快捷键
- `Ctrl + Click`：新标签页打开书签
- `Shift + Click`：新窗口打开书签
- `Delete`：删除选中的书签
- `F2`：重命名选中的书签

### 动画与交互效果

#### 页面加载动画
- **骨架屏**：页面加载时显示内容骨架
- **渐入效果**：元素依次淡入显示
- **Loading 动画**：数据加载时的指示器

#### 交互反馈
- **悬停效果**：鼠标悬停时的视觉反馈
- **点击反馈**：按钮点击时的涟漪效果
- **拖拽反馈**：书签拖拽时的位置指示

#### 主题切换动画
- **颜色过渡**：主题切换时的平滑颜色过渡
- **元素变换**：图标和元素的形态变化
- **背景切换**：背景图片的淡入淡出效果

---

## 🛠️ 开发与测试

### 开发环境搭建

#### 前置要求
- Node.js 16.0 或更高版本
- npm 或 yarn 包管理器
- Git 版本控制工具
- 支持的浏览器（Chrome/Edge）

#### 项目初始化
```bash
# 克隆项目
git clone https://github.com/yourusername/mytab-extension.git
cd mytab-extension

# 安装依赖
npm install

# 启动开发模式
npm run dev
```

#### 开发命令说明
- `npm run build`：构建项目
- `npm run watch`：监听文件变化自动构建
- `npm run dev`：开发模式（等同于 watch）
- `npm run build:prod`：生产环境构建
- `npm run preview`：预览构建结果
- `npm run public`：打包发布版本

### 代码结构说明

#### TypeScript 源码目录（src/）
```
src/
├── background/
│   └── background.ts      # 后台服务脚本
├── newtab/
│   └── newtab.ts         # 新标签页主要逻辑
├── popup/
│   ├── popup.ts          # 扩展弹窗逻辑
│   └── popup.css         # 弹窗样式
└── types/
    └── index.ts          # TypeScript 类型定义
```

#### 构建输出目录（dist/）
```
dist/
├── background/
│   └── background.js     # 编译后的后台脚本
├── newtab/
│   ├── newtab.html      # 新标签页 HTML
│   ├── newtab.css       # 新标签页样式
│   └── newtab.js        # 编译后的主逻辑
├── popup/
│   ├── popup.html       # 扩展弹窗 HTML
│   ├── popup.css        # 弹窗样式
│   └── popup.js         # 编译后的弹窗逻辑
├── icons/
│   ├── icon16.png       # 16x16 图标
│   ├── icon48.png       # 48x48 图标
│   └── icon128.png      # 128x128 图标
└── manifest.json        # 扩展清单文件
```

### 测试指南

#### 功能测试清单

**基础功能测试**：
- [ ] 扩展正确安装和加载
- [ ] 新标签页正确替换默认页面
- [ ] 搜索功能正常工作
- [ ] 书签添加、编辑、删除功能
- [ ] 工作区创建和切换功能
- [ ] 主题切换功能

**高级功能测试**：
- [ ] Microsoft 账户登录流程
- [ ] GitHub Gist 同步功能
- [ ] 数据导入导出功能
- [ ] 快捷键操作响应
- [ ] 响应式设计适配

**性能测试**：
- [ ] 页面加载速度（< 500ms）
- [ ] 内存使用情况（< 50MB）
- [ ] CPU 使用率（< 5%）
- [ ] 网络请求优化

#### 兼容性测试

**浏览器兼容性**：
- [ ] Chrome 88+ 版本
- [ ] Edge 88+ 版本
- [ ] 其他 Chromium 内核浏览器

**操作系统兼容性**：
- [ ] Windows 10/11
- [ ] macOS 10.14+
- [ ] Linux Ubuntu 18.04+

**屏幕分辨率适配**：
- [ ] 1920x1080 (Full HD)
- [ ] 1366x768 (HD)
- [ ] 2560x1440 (2K)
- [ ] 3840x2160 (4K)

### 打包和发布

#### 开发版本打包
```bash
# 构建开发版本
npm run build

# 打包成 ZIP 文件
npm run public
```

生成的文件：
- `mytab-extension-v1.0.0-20231201-123456.zip`
- 包含完整的 dist 目录内容
- 可直接用于浏览器扩展安装

#### 生产版本打包
```bash
# 构建生产版本
npm run build:prod

# 打包发布版本
npm run public
```

生产版本特点：
- 代码压缩和混淆
- 去除调试信息
- 优化资源加载
- 减小文件体积

---

## 🔧 故障排除

### 常见安装问题

#### 问题1：扩展无法加载
**症状**：在浏览器扩展页面看到"无法加载扩展"错误

**解决方案**：
1. 检查 manifest.json 文件格式是否正确
2. 确认 dist 目录包含所有必要文件
3. 重新构建项目：`npm run build`
4. 重启浏览器后重新加载扩展

#### 问题2：TypeScript 编译错误
**症状**：运行 `npm run build` 时出现编译错误

**解决方案**：
1. 检查 TypeScript 版本：`npx tsc --version`
2. 清理 node_modules：`rm -rf node_modules && npm install`
3. 检查类型定义是否正确
4. 查看 tsconfig.json 配置

#### 问题3：依赖包安装失败
**症状**：`npm install` 执行失败或超时

**解决方案**：
1. 使用国内镜像源：`npm config set registry https://registry.npmmirror.com`
2. 清理缓存：`npm cache clean --force`
3. 尝试使用 yarn：`yarn install`
4. 检查网络连接和防火墙设置

### 功能问题解决

#### 问题1：Microsoft 登录失败
**症状**：点击登录按钮无响应或弹窗打不开

**解决方案**：
1. 检查浏览器是否允许弹窗
2. 确认网络连接正常
3. 清除浏览器缓存和 Cookie
4. 检查 Azure 应用配置是否正确
5. 查看浏览器开发者工具的错误信息

#### 问题2：GitHub Gist 同步失败
**症状**：同步按钮无效果或提示错误

**解决方案**：
1. 验证 GitHub Token 权限是否正确
2. 检查 Gist ID 是否有效
3. 确认网络可以访问 GitHub API
4. 检查 Token 是否过期
5. 查看浏览器控制台错误信息

#### 问题3：书签数据丢失
**症状**：之前添加的书签消失

**解决方案**：
1. 检查浏览器本地存储是否被清理
2. 从自动备份中恢复数据
3. 从 GitHub Gist 重新同步
4. 检查工作区是否被意外删除
5. 使用导入功能恢复备份文件

### 性能问题优化

#### 问题1：页面加载缓慢
**症状**：新标签页打开速度很慢

**解决方案**：
1. 检查书签数量是否过多（建议 < 100 个）
2. 关闭不必要的同步功能
3. 清理浏览器缓存
4. 检查网络连接质量
5. 重新安装扩展

#### 问题2：内存占用过高
**症状**：浏览器内存使用量异常增加

**解决方案**：
1. 检查是否有内存泄漏
2. 关闭自动刷新功能
3. 减少同步频率
4. 重启浏览器
5. 更新到最新版本

---

## ❓ 常见问题

### Q1：MyTab 与其他新标签页扩展有何不同？
**A1**：MyTab 具有以下独特优势：
- 使用 TypeScript 开发，类型安全，稳定性更高
- 支持 Microsoft 账户集成，与 Office 365 无缝连接
- 提供完整的数据同步方案（GitHub Gist）
- 开源免费，代码透明可信
- 模块化设计，便于定制和扩展

### Q2：如何备份我的数据？
**A2**：MyTab 提供多种备份方式：
1. **自动备份**：扩展每日自动创建本地备份
2. **手动导出**：在设置页面点击"导出配置"
3. **云端同步**：配置 GitHub Gist 自动同步
4. **浏览器同步**：如果开启了浏览器账户同步

### Q3：支持移动设备吗？
**A3**：MyTab 主要为桌面浏览器设计，但在移动设备上也可以使用：
- **移动端浏览器**：部分功能可能受限
- **响应式设计**：界面会自动适配移动屏幕
- **触控优化**：支持触摸操作
- **建议**：最佳体验仍在桌面浏览器

### Q4：如何添加自定义搜索引擎？
**A4**：按以下步骤操作：
1. 进入设置页面
2. 选择"搜索引擎"选项卡
3. 点击"添加自定义搜索引擎"
4. 填写搜索引擎信息
5. 在 URL 中用 `{query}` 标记搜索词位置
6. 保存配置

### Q5：Microsoft 登录安全吗？
**A5**：MyTab 的 Microsoft 集成非常安全：
- 使用官方 MSAL 库
- 遵循 OAuth 2.0 标准
- 仅请求必要的权限
- 令牌存储在本地
- 支持自动令牌刷新
- 不会存储密码信息

### Q6：如何报告问题或建议功能？
**A6**：欢迎通过以下方式联系我们：
1. **GitHub Issues**：在项目仓库提交问题
2. **邮件联系**：发送详细描述到开发者邮箱
3. **用户群组**：加入用户交流群
4. **反馈表单**：在扩展设置页面提交反馈

### Q7：可以自定义界面样式吗？
**A7**：MyTab 提供丰富的自定义选项：
- **主题选择**：浅色、深色、自动切换
- **自定义颜色**：配置个人专属主题
- **背景图片**：支持自定义背景
- **布局调整**：调整各模块的显示位置
- **CSS 修改**：高级用户可直接修改样式文件

### Q8：数据会被上传到哪里？
**A8**：MyTab 的数据存储位置：
- **本地存储**：主要数据存储在浏览器本地
- **GitHub Gist**：可选的云端同步（用户控制）
- **Microsoft Graph**：仅存储登录状态，不上传书签
- **不会收集**：我们不会收集用户的个人数据
- **完全透明**：所有数据处理逻辑均开源可查

---

## 📞 技术支持

### 联系方式
- **项目主页**：https://github.com/yourusername/mytab-extension
- **问题反馈**：https://github.com/yourusername/mytab-extension/issues
- **开发者邮箱**：developer@example.com
- **用户文档**：查看项目 Wiki 页面

### 开发团队
- **项目负责人**：[姓名]
- **核心开发者**：[姓名列表]
- **UI/UX 设计**：[姓名]
- **测试工程师**：[姓名]

### 开源协议
本项目基于 MIT 许可证开源，您可以：
- ✅ 商业使用
- ✅ 修改代码
- ✅ 分发代码
- ✅ 私人使用
- ❌ 不提供责任担保
- ❌ 不提供品质保证

### 版本更新
- **稳定版本**：每月发布一次重大更新
- **修复版本**：发现重要问题时及时发布
- **开发版本**：在 GitHub 持续更新
- **更新通知**：通过扩展内置通知系统推送

### 参与贡献
欢迎参与 MyTab 的开发：
1. **Fork 项目**到您的 GitHub 账户
2. **创建分支**进行功能开发或 Bug 修复
3. **提交 Pull Request**与详细说明
4. **代码审查**通过后合并到主分支
5. **贡献者**将在项目中获得致谢

---

**感谢您选择 MyTab 浏览器扩展！**

如果这份使用说明书对您有帮助，请给我们的项目点个 ⭐ Star，并分享给更多朋友使用。您的支持是我们持续改进的最大动力！ 